<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Advanced bra size calculator utilizing multiple underbust and bust measurements for precise anatomical fit, incorporating international standards from US, UK, EU, and beyond. Explore health implications of proper sizing, common errors, and conversion tools for optimal support and comfort.">
    <meta name="keywords" content="bra size measurement techniques, underbust and bust calculations, international bra sizing standards, bra fitting health benefits, common bra fit mistakes, multi-measurement bra calculator">
    <title>Bra Size Calculator: Multi-Measurement Approach for Anatomical Precision and Health</title>
    <link rel="stylesheet" href="https://fcalculator.com/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        function calculateBraSize() {
            // Get inputs
            var looseUnder = parseFloat(document.getElementById('looseUnder').value) || 0;
            var snugUnder = parseFloat(document.getElementById('snugUnder').value) || 0;
            var tightUnder = parseFloat(document.getElementById('tightUnder').value) || 0;
            var standingBust = parseFloat(document.getElementById('standingBust').value) || 0;
            var leaningBust = parseFloat(document.getElementById('leaningBust').value) || 0;
            var lyingBust = parseFloat(document.getElementById('lyingBust').value) || 0;
            var units = document.getElementById('units').value;
            var sizingSystem = document.getElementById('sizingSystem').value;

            // Average underbust and bust for accuracy
            var avgUnder = (looseUnder + snugUnder + tightUnder) / 3;
            var avgBust = (standingBust + leaningBust + lyingBust) / 3;
            var difference = avgBust - avgUnder;

            if (units === 'cm') {
                difference /= 2.54; // Convert to inches for consistency in cup calculation
            }

            if (isNaN(difference) || difference <= 0) {
                document.getElementById('result').innerHTML = 'Please enter valid measurements where average bust is greater than average underbust.';
                return;
            }

            // Calculate band size (round to nearest even for US/UK)
            var bandSize = Math.round(avgUnder / (units === 'cm' ? 2.54 : 1) / 2) * 2;

            // Get cup size based on system
            var cupSize;
            if (sizingSystem === 'US') {
                cupSize = getUSCupSize(difference);
            } else if (sizingSystem === 'UK') {
                cupSize = getUKCupSize(difference);
            } else if (sizingSystem === 'EU') {
                cupSize = getEUCupSize(difference * (units === 'cm' ? 1 : 2.54)); // EU in cm
            }

            document.getElementById('result').innerHTML = `Estimated Bra Size (${sizingSystem}): ${bandSize}${cupSize}<br>Average Underbust: ${avgUnder.toFixed(2)} ${units}<br>Average Bust: ${avgBust.toFixed(2)} ${units}<br>Difference: ${difference.toFixed(2)} inches`;

            updateCharts(avgUnder, avgBust, difference);
        }

        function getUSCupSize(diff) {
            if (diff < 1) return 'AA';
            if (diff < 2) return 'A';
            if (diff < 3) return 'B';
            if (diff < 4) return 'C';
            if (diff < 5) return 'D';
            if (diff < 6) return 'DD/E';
            if (diff < 7) return 'DDD/F';
            if (diff < 8) return 'DDDD/G';
            if (diff < 9) return 'H';
            if (diff < 10) return 'I';
            if (diff < 11) return 'J';
            if (diff < 12) return 'K';
            if (diff < 13) return 'L';
            if (diff < 14) return 'M';
            return 'N';
        }

        function getUKCupSize(diff) {
            if (diff < 1) return 'AA';
            if (diff < 2) return 'A';
            if (diff < 3) return 'B';
            if (diff < 4) return 'C';
            if (diff < 5) return 'D';
            if (diff < 6) return 'DD';
            if (diff < 7) return 'E';
            if (diff < 8) return 'F';
            if (diff < 9) return 'FF';
            if (diff < 10) return 'G';
            if (diff < 11) return 'GG';
            if (diff < 12) return 'H';
            if (diff < 13) return 'HH';
            if (diff < 14) return 'J';
            return 'JJ';
        }

        function getEUCupSize(diffCm) {
            if (diffCm < 11.5) return 'AA';
            if (diffCm < 13.5) return 'A';
            if (diffCm < 15.5) return 'B';
            if (diffCm < 17.5) return 'C';
            if (diffCm < 19.5) return 'D';
            if (diffCm < 21.5) return 'E';
            if (diffCm < 23.5) return 'F';
            if (diffCm < 25.5) return 'G';
            if (diffCm < 27.5) return 'H';
            if (diffCm < 29.5) return 'I';
            if (diffCm < 31.5) return 'J';
            return 'K';
        }

        function updateCharts(avgUnder, avgBust, difference) {
            // Destroy existing charts if they exist
            if (window.measurementChart) window.measurementChart.destroy();
            if (window.fitErrorChart) window.fitErrorChart.destroy();
            if (window.bandComparisonChart) window.bandComparisonChart.destroy();

            // Measurement Bar Chart
            var ctx1 = document.getElementById('measurementChart').getContext('2d');
            window.measurementChart = new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['Average Underbust', 'Average Bust'],
                    datasets: [{
                        label: 'Measurements',
                        data: [avgUnder, avgBust],
                        backgroundColor: ['rgba(75, 192, 192, 0.2)', 'rgba(255, 159, 64, 0.2)']
                    }]
                },
                options: { scales: { y: { beginAtZero: true } } }
            });

            // Fit Error Pie Chart
            var ctx2 = document.getElementById('fitErrorChart').getContext('2d');
            window.fitErrorChart = new Chart(ctx2, {
                type: 'pie',
                data: {
                    labels: ['Correct Fit', 'Too Large Band', 'Too Small Cup', 'Other Issues'],
                    datasets: [{
                        data: [15, 40, 30, 15],
                        backgroundColor: ['#36A2EB', '#FF6384', '#FFCE56', '#4BC0C0']
                    }]
                },
                options: { responsive: true }
            });

            // Band Size Line Chart
            var ctx3 = document.getElementById('bandComparisonChart').getContext('2d');
            window.bandComparisonChart = new Chart(ctx3, {
                type: 'line',
                data: {
                    labels: ['XXS', 'XS', 'S', 'M', 'L', 'XL', 'XXL'],
                    datasets: [{
                        label: 'US Band Size',
                        data: [28, 30, 32, 34, 36, 38, 40],
                        borderColor: 'rgba(75, 192, 192, 1)'
                    }, {
                        label: 'EU Band Size',
                        data: [60, 65, 70, 75, 80, 85, 90],
                        borderColor: 'rgba(153, 102, 255, 1)'
                    }]
                },
                options: { scales: { y: { beginAtZero: true } } }
            });
        }

        window.onload = function() {
            updateCharts(32, 36, 4); // Default values for initial load
        };

        function convertBraSize() {
            // Simplified conversion
            var location = document.getElementById('convertLocation').value;
            var size = parseInt(document.getElementById('convertSize').value) || 0;
            var cup = document.getElementById('convertCup').value.toUpperCase();
            var converted = `Converted size for ${location}: ${size + 2}${cup}`; // Example logic
            document.getElementById('convertResult').innerHTML = converted;
        }
    </script>
</head>
<body>
    <header>
        <h1>B
