<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Population Calculator - Free Online Population Projection Tool | FCalculator.com</title>
    <meta name="description" content="Calculate world population growth, projections for 100 years, and future needs for food, water, energy with our free online world population calculator. View live population by country, historical data from 1925-2025, and UN-based forecasts to 2125. Learn how to calculate population trends with formulas, charts, examples, and real-world impacts. Accurate tool for demographics, sustainability, and planning.">
    <meta name="keywords" content="world population calculator, calculate world population growth, population projections 2125 UN, live world population by country, how to calculate population needs food water energy, historical world population 1925-2025, free population tool, population density calculator, demographic trends chart">
    <link rel="stylesheet" href="https://fcalculator.com/css/style.css">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="World Population Calculator - FCalculator.com | Free Demographic Tool">
    <meta property="og:description" content="Advanced free online world population calculator for growth rates, projections to 2125, and resource needs. Includes UN data, charts for history/by country, and tips on sustainability challenges.">
    <meta property="og:url" content="https://fcalculator.com/worldpopulation.html">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://fcalculator.com/images/world-population-thumbnail.jpg">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "World Population Calculator",
      "description": "Free online tool to calculate global population trends, projections, and needs.",
      "url": "https://fcalculator.com/worldpopulation.html"
    }
    </script>
</head>
<body>
    <header>
        <div class="logo">FCalculator.com</div>
        <h1>World Population Calculator - Free Online Tool to Calculate Global Population Easily</h1>
        <p>Welcome to FCalculator.com's ultimate world population calculator, your go-to free online resource for analyzing global demographics. Whether you're projecting population growth for the next 100 years, calculating live population by country, or estimating future needs for food, water, and energy, this tool uses UN data and models for accurate results. With interactive charts for historical trends (1925-2025), projections to 2125, and distributions, you'll gain deep insights into population dynamics. Bookmark this page now for demographic planning and sustainability analysis!</p>
    </header>
   
    <main>
        <!-- Izračuni pri vrhu -->
        <section id="basic-population">
            <h2>Basic World Population Calculator: Project Population and Needs</h2>
            <p>Enter a year (1925-2125) and select a country to view population data, growth rate, and projected needs. Formula: P(t) = P0 * e^(r*t), adjusted for decline post-peak.</p>
            <form>
                <label>Year (1925-2125):</label> <input type="number" id="year" placeholder="e.g., 2050" min="1925" max="2125">
                <label>Country (or World):</label> <select id="country">
                    <option value="world">World</option>
                    <option value="india">India</option>
                    <option value="china">China</option>
                    <option value="usa">United States</option>
                    <option value="indonesia">Indonesia</option>
                    <option value="pakistan">Pakistan</option>
                    <option value="nigeria">Nigeria</option>
                    <option value="brazil">Brazil</option>
                    <option value="bangladesh">Bangladesh</option>
                    <option value="russia">Russia</option>
                    <option value="ethiopia">Ethiopia</option>
                    <option value="mexico">Mexico</option>
                    <option value="japan">Japan</option>
                    <option value="egypt">Egypt</option>
                    <option value="philippines">Philippines</option>
                    <option value="drcongo">DR Congo</option>
                    <option value="vietnam">Vietnam</option>
                    <option value="iran">Iran</option>
                    <option value="turkey">Turkey</option>
                    <option value="germany">Germany</option>
                    <option value="thailand">Thailand</option>
                </select>
                <button type="button" onclick="calculatePopulation()">Calculate</button>
            </form>
            <span id="population-result"></span>
        </section>
       
        <section id="historical-chart">
            <h2>Historical Population Chart (1925-2025)</h2>
            <canvas id="historical-line-chart" width="400" height="200"></canvas>
        </section>
       
        <section id="projection-chart">
            <h2>Population Projections Chart (2025-2125)</h2>
            <canvas id="projection-line-chart" width="400" height="200"></canvas>
        </section>
       
        <section id="country-pie-chart">
            <h2>Population Distribution by Top Countries (Pie Chart)</h2>
            <canvas id="population-pie-chart" width="200" height="200"></canvas>
        </section>
       
        <section id="growth-bar-chart">
            <h2>Growth Rates Chart</h2>
            <canvas id="growth-bar-chart" width="400" height="200"></canvas>
        </section>
       
        <section id="needs-bar-chart">
            <h2>Future Resource Needs Chart</h2>
            <canvas id="needs-bar-chart" width="400" height="200"></canvas>
        </section>
       
        <section id="density-scatter-chart">
            <h2>Population Density Scatter Chart (Top Countries)</h2>
            <canvas id="density-scatter-chart" width="400" height="200"></canvas>
        </section>
       
        <!-- SEO tekst pri dnu -->
        <section id="introduction">
            <h2>What is a World Population Calculator and Why Use One?</h2>
            <p>A world population calculator is a critical online tool that estimates human numbers using census data and models. Our tool provides historical data, projections, and resource needs estimates. With keywords like "world population projections 2125 UN chart" and "calculate future food water energy needs with population growth", this page is optimized for search engines to help users find accurate demographic information.</p>
            <p>Population dynamics shape our world – from resource allocation to climate impact. Using our population projections 2125 UN-based tool helps predict challenges like overpopulation or declining birth rates. For queries like "live world population by country chart" or "historical world population 1925-2025 data", it's the best resource available, with detailed charts and explanations to enhance understanding and engagement.</p>
            <p>In this comprehensive guide, we'll cover population calculation comprehensively: definitions, formulas, historical data from 1925-2025, projections to 2125, charts, applications, and tips on sustainability. We aim to be the leading resource for demographic analysis, ensuring high search rankings for terms like "free world population calculator online" and "population density calculator by country".</p>
            <p>With advanced features like separate historical and projection line charts (with grid lines for readability and labels for key years like 1950 industrial boom or 2000 millennium), pie charts showing top countries' shares (with percentage labels for quick insights), bar charts for growth rates (including past high rates of 2.1% in 1960s, current 0.85%, and future decline -0.1%), needs bar charts (scaled with unit labels for food in billions of tons, water in trillion liters, energy in exajoules), and scatter charts for density (dots sized by pop, with country labels for high-density spots like Bangladesh vs low like Australia), this tool provides visual depth for "demographic trends chart 1925-2125" searches.</p>
            <p>Our calculator also estimates resource needs: for example, with population at 9.66B in 2050, food demand increases +100-110% (requiring 3 billion more tons of cereals annually), water shortages affect 5B people (up from 3.7B, with +55% demand straining aquifers), and energy needs rise +50% (to 800 exajoules, driving renewable transitions). By 2125 at 9.9B, these could stabilize with decline but still pose challenges like urban overcrowding in megacities.</p>
        </section>
       
        <section id="population-explanation">
            <h2>More on Basic World Population Calculator</h2>
            <p>This calculator projects population using growth models. For world: ~8.23 billion in 2025, peaking at 10.3 billion in 2084, then declining to 10.2 billion by 2100 and ~9.9 billion by 2125. By country: India leads with 1.46 billion.</p>
            <p>Example: USA in 2100 = ~381 million (UN est.). The historical line chart illustrates the exponential rise from 2B in 1925 to 8.23B in 2025, with grid lines highlighting key periods like post-WWII baby boom. The projection line chart shows the future curve, with a peak mark at 2084 and decline phase labeled for clarity.</p>
            <h3>Step-by-Step: How to Calculate Population Growth</h3>
            <ol>
                <li>Base P0 from current (e.g., 8.23B in 2025).</li>
                <li>Apply r=0.85% for growth: P(t) = P0 * e^(r*t).</li>
                <li>Adjust for decline post-2084 (r=-0.1%).</li>
                <li>Scale for countries based on shares, as shown in pie chart with top 5 (India 18%, China 17%, USA 4%, etc., with hover-like labels).</li>
                <li>Use our tool for instant charts, optimized for "demographic trends chart 1925-2125".</li>
            </ol>
            <p>Pro Tip: For needs, multiply population by per capita use (e.g., water: 3700L/year/person), with bar chart showing increases like +55% water demand to 2050, labeled with units for "calculate future food water energy needs with population growth" searches.</p>
            <p>The growth bar chart compares rates: past high (2.1% 1960s with green bar), current (0.85% yellow), future low (0.1% orange), peak (0% blue), then decline (-0.1% red), with value labels on bars and horizontal grid for precision. The scatter chart plots density (y-axis km²) vs pop (x-axis billions), with country names next to dots for visual comparison (e.g., Bangladesh high y low x, China high x medium y).</p>
        </section>
       
        <section id="explanations">
            <h2>What is Population Calculation? In-Depth Definition and History</h2>
            <p>Population calculation estimates human numbers using census data and models. World hit 8B in 2022, 8.23B in 2025 per UN/Worldometer.</p>
            <h3>History of World Population</h3>
            <p>From 2B in 1925 (post-WWI recovery, labeled on historical chart) to 2.5B in 1950 (post-WWII, baby boom spike), 6.1B in 2000 (industrialization in Asia), 8.23B in 2025 (urbanization peak). Growth peaked at 2.1% in 1960s due to medical advances, now slowing to 0.85% with fertility drop to 2.3 births/woman. Historical line chart with grid shows this curve, with y-axis labels in billions for "historical world population 1925-2025 data" queries.</p>
            <h3>Population Formulas and Models</h3>
            <p>Exponential: P = P0 * (1 + r)^t for growth phase; logistic P = K / (1 + e^(-r*t)) for carrying capacity ~10.4B. Our tool uses adjusted exponential with decline, as seen in projection line chart with grid and labels for peak/decline phases, optimized for "UN population projections 2125 decline reasons" (reasons: low births, migration).</p>
            <h3>Real-World Applications and Impacts</h3>
            <ul>
                <li><strong>Sustainability:</strong> Food demand +100-110% by 2050 (3B more tons cereals), +150% by 2125; needs bar chart labels tons/year.</li>
                <li><strong>Economics:</strong> Labor growth in Africa (Nigeria to 375M by 2100, high growth bar), decline in Europe (Germany -0.1%, red bar).</li>
                <li><strong>Environment:</strong> Energy +50% by 2050 (800 exajoules), +100% by 2125; water shortages 3.7B now to 5B+ by 2125, bar with trillion liters labels.</li>
                <li><strong>Urbanization:</strong> Density scatter chart highlights high in Bangladesh (1,265/km² dot high y), low in Russia (9/km² low y), with country labels for "population density calculator by country".</li>
                <li><strong>Policy:</strong> Use for climate models; pie chart shows Asia's 60% share driving emissions.</li>
            </ul>
            <p>Tip: Share this tool: <button onclick="sharePage()">Share Now</button> to spread awareness on "global population decline after 2084 UN projections", with charts illustrating the turn point.</p>
            <p>Future impacts by 2125: With 9.9B, food needs could strain agriculture (bar chart yellow for +150%), water crises in Asia/Africa (blue bar for 5B affected), energy shift to renewables (red bar for +100%). Density scatter shows potential overcrowding in cities like Mumbai (20k/km² dot).</p>
        </section>
       
        <section id="historical-data">
            <h2>Historical World Population Data and Chart (1925-2025)</h2>
            <p>From UN/Worldometer: 1925 ~2B (post-war), 1950 ~2.5B (baby boom), 2000 ~6.1B (tech advances), 2025 ~8.23B (urbanization). Growth peaked 2.1% 1960s. Chart with grid/labels shows rise.</p>
        </section>
       
        <section id="projection-data">
            <h2>World Population Projections to 2125 and Chart</h2>
            <p>UN 2024: Peak 10.3B in 2084 (fertility 2.1), 10.2B in 2100, 9.9B in 2125 (-0.1% decline from aging). Chart with grid marks peak, decline phase labeled for "UN population projections 2125 decline reasons" (low births, migration).</p>
        </section>
       
        <section id="country-distribution">
            <h2>Live World Population by Country (Top 20, 2025 Estimates)</h2>
            <p>UN/Worldometer: India 1.46B (18%), China 1.42B (17%), USA 347M (4%). Pie chart shows top 5 shares with % labels; select country for customized pie slice highlight.</p>
            <table>
                <thead>
                    <tr><th>Country</th><th>2025 Population</th><th>Share (%)</th><th>Growth Rate (%)</th></tr>
                </thead>
                <tbody>
                    <tr><td>India</td><td>1,463,865,525</td><td>17.8</td><td>0.9</td></tr>
                    <tr><td>China</td><td>1,416,096,094</td><td>17.2</td><td>-0.1</td></tr>
                    <tr><td>United States</td><td>347,275,807</td><td>4.2</td><td>0.5</td></tr>
                    <!-- Dodaj ostale -->
                </tbody>
            </table>
        </section>
       
        <section id="future-needs">
            <h2>Future Needs with Population Growth (Food, Water, Energy to 2125)</h2>
            <p>Based on UN/FAO/IEA: Food demand +100-110% by 2050 (3B tons cereals), +150% by 2125. Water shortages 3.7B now to 5B+ by 2125 (+55% demand). Energy +50% by 2050 (800 exajoules), +100% by 2125. Bar chart with grid/units shows scaled impacts for "calculate future food water energy needs with population growth" searches.</p>
        </section>
       
        <section id="tips-and-examples">
            <h2>Tips, Tricks, and Advanced Examples for Population Calculations</h2>
            <p>Tip: Use logistic models for carrying capacity limits (~10.4B). Avoid exponential for long-term due to fertility decline.</p>
            <h3>Advanced Examples</h3>
            <table>
                <thead>
                    <tr><th>Scenario</th><th>Year</th><th>Population</th><th>Needs Impact</th></tr>
                </thead>
                <tbody>
                    <tr><td>World Peak</td><td>2084</td><td>10.3B</td><td>Food +120%, Water shortages 4.5B</td></tr>
                    <tr><td>India Growth</td><td>2050</td><td>1.65B</td><td>Energy +60%</td></tr>
                    <tr><td>China Decline</td><td>2100</td><td>1B</td><td>Reduced resource strain</td></tr>
                </tbody>
            </table>
            <p>Unique Feature: Scatter chart shows density (e.g., Bangladesh 1,265/km² vs Australia 3/km²). Common Mistake: Ignoring regional variations; use our country select for accuracy.</p>
        </section>
       
        <section id="faq">
            <h2>World Population Calculator FAQ: Answers to Your Top Questions</h2>
            <script type="application/ld+json">
            {
              "@context": "https://schema.org",
              "@type": "FAQPage",
              "mainEntity": [
                {
                  "@type": "Question",
                  "name": "How to calculate world population growth?",
                  "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Use P = P0 * e^(r*t) with r from UN data. Try our tool for projections."
                  }
                },
                {
                  "@type": "Question",
                  "name": "What is the world population in 2025?",
                  "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Approximately 8.23 billion per UN/Worldometer estimates."
                  }
                },
                {
                  "@type": "Question",
                  "name": "When will world population peak?",
                  "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Around 2084 at 10.3 billion, per UN 2024 projections."
                  }
                },
                {
                  "@type": "Question",
                  "name": "What are future food needs with population growth?",
                  "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "+100-110% by 2050, up to +150% by 2125, requiring sustainable farming."
                  }
                },
                {
                  "@type": "Question",
                  "name": "How will water shortages change by 2125?",
                  "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Affecting 5B+ people with +55% demand, per UN and WWF."
                  }
                }
              ]
            }
            </script>
            <p>Have more questions? Explore our related tools or contact us.</p>
        </section>
       
        <section id="related-tools">
            <h2>Related Calculators on FCalculator.com</h2>
            <p>Expand your analysis with these free tools:</p>
            <ul>
                <li><a href="/percentage.html">Percentage Calculator - For growth rates</a></li>
                <li><a href="/age.html">Age Calculator - Demographic aging</a></li>
                <li><a href="/bmi.html">BMI Calculator - Health impacts</a></li>
                <li><a href="/calorie.html">Calorie Calculator - Food needs</a></li>
                <li><a href="/time.html">Time Calculator - Timeline projections</a></li>
            </ul>
        </section>
       
        <section id="conclusion">
            <h2>Conclusion: Why FCalculator.com is Your Best World Population Calculator Choice</h2>
            <p>In summary, our free online world population calculator is the ultimate tool for calculating global trends, projections to 2125, and resource needs. With detailed charts, UN data, and real-world examples, we've created a resource that educates on "demographic trends chart 1925-2125" and "calculate future food water energy needs with population growth". Whether for research or planning, this tool ensures accuracy. Bookmark it, share it, and return often – we're committed to topping searches for "world population calculator free online". Thank you for choosing FCalculator.com!</p>
        </section>
    </main>
   
	<footer>
        Project created by Ivan Brkic. Project launched in 2020. Version 1.02
        <a href="/sitemap.html">sitemap</a> <a href="/about.html">about us</a> <a href="/contact.html">contact us</a> <a href="/terms.html">terms of use</a> <a href="/privacy.html">privacy policy</a>
    </footer>
   
    <script>
        const countries = {
            world: {baseYear: 2025, basePop: 8230000000, growth: 0.0085, peakYear: 2084, peakPop: 10300000000, declineRate: -0.001, area: 510072000},
            india: {baseYear: 2025, basePop: 1463865525, growth: 0.009, peakYear: 2060, peakPop: 1650000000, declineRate: -0.002, area: 3287263},
            china: {baseYear: 2025, basePop: 1416096094, growth: -0.001, peakYear: 2023, peakPop: 1417000000, declineRate: -0.005, area: 9596961},
            usa: {baseYear: 2025, basePop: 347275807, growth: 0.005, peakYear: 2100, peakPop: 381000000, declineRate: 0, area: 9833517},
            indonesia: {baseYear: 2025, basePop: 285721236, growth: 0.006, peakYear: 2050, peakPop: 295000000, declineRate: -0.001, area: 1913579},
            pakistan: {baseYear: 2025, basePop: 255219554, growth: 0.018, peakYear: 2065, peakPop: 350000000, declineRate: -0.002, area: 881913},
            nigeria: {baseYear: 2025, basePop: 227900000, growth: 0.025, peakYear: 2100, peakPop: 375000000, declineRate: 0, area: 923768},
            brazil: {baseYear: 2025, basePop: 211100000, growth: 0.004, peakYear: 2045, peakPop: 220000000, declineRate: -0.002, area: 8515767},
            bangladesh: {baseYear: 2025, basePop: 171500000, growth: 0.01, peakYear: 2050, peakPop: 195000000, declineRate: -0.001, area: 147570},
            russia: {baseYear: 2025, basePop: 144000000, growth: -0.003, peakYear: 1990, peakPop: 148000000, declineRate: -0.004, area: 17098242},
            ethiopia: {baseYear: 2025, basePop: 129000000, growth: 0.025, peakYear: 2100, peakPop: 324000000, declineRate: 0, area: 1104300},
            mexico: {baseYear: 2025, basePop: 128000000, growth: 0.005, peakYear: 2050, peakPop: 145000000, declineRate: -0.002, area: 1964375},
            japan: {baseYear: 2025, basePop: 123000000, growth: -0.005, peakYear: 2008, peakPop: 128000000, declineRate: -0.006, area: 377973},
            egypt: {baseYear: 2025, basePop: 113000000, growth: 0.016, peakYear: 2100, peakPop: 205000000, declineRate: 0, area: 1001450},
            philippines: {baseYear: 2025, basePop: 118000000, growth: 0.014, peakYear: 2100, peakPop: 144000000, declineRate: 0, area: 300000},
            drcongo: {baseYear: 2025, basePop: 105000000, growth: 0.032, peakYear: 2100, peakPop: 378000000, declineRate: 0, area: 2344858},
            vietnam: {baseYear: 2025, basePop: 100000000, growth: 0.006, peakYear: 2050, peakPop: 110000000, declineRate: -0.001, area: 331212},
            iran: {baseYear: 2025, basePop: 90000000, growth: 0.007, peakYear: 2050, peakPop: 100000000, declineRate: -0.002, area: 1648195},
            turkey: {baseYear: 2025, basePop: 86000000, growth: 0.005, peakYear: 2050, peakPop: 95000000, declineRate: -0.001, area: 783562},
            germany: {baseYear: 2025, basePop: 83000000, growth: -0.001, peakYear: 2018, peakPop: 83000000, declineRate: -0.002, area: 357022},
            thailand: {baseYear: 2025, basePop: 72000000, growth: 0.002, peakYear: 2020, peakPop: 71000000, declineRate: -0.003, area: 513120}
        };
        const historicalData = {
            years: [1925, 1930, 1935, 1940, 1945, 1950, 1955, 1960, 1965, 1970, 1975, 1980, 1985, 1990, 1995, 2000, 2005, 2010, 2015, 2020, 2025],
            pop: [2000000000, 2070000000, 2140000000, 2210000000, 2300000000, 2527701170, 2756000000, 3022000000, 3334000000, 3692000000, 4061000000, 4448000000, 4853000000, 5305000000, 5735000000, 6127000000, 6514000000, 6916000000, 7355000000, 7795000000, 8230000000]
        };
        const projectionData = {
            years: [2025, 2030, 2035, 2040, 2045, 2050, 2055, 2060, 2065, 2070, 2075, 2080, 2085, 2090, 2095, 2100, 2105, 2110, 2115, 2120, 2125],
            pop: [8230000000, 8516000000, 8796000000, 9071000000, 9340000000, 9660000000, 9925000000, 10170000000, 10390000000, 10590000000, 10770000000, 10930000000, 10300000000, 10280000000, 10250000000, 10220000000, 10180000000, 10130000000, 10070000000, 10010000000, 9950000000]
        };
        const densityData = [
            {name: 'Bangladesh', pop: 171500000, density: 1265},
            {name: 'India', pop: 1463865525, density: 464},
            {name: 'Japan', pop: 123000000, density: 333},
            {name: 'Philippines', pop: 118000000, density: 314},
            {name: 'Vietnam', pop: 100000000, density: 308},
            {name: 'Pakistan', pop: 255219554, density: 287},
            {name: 'Nigeria', pop: 227900000, density: 250},
            {name: 'Germany', pop: 83000000, density: 238},
            {name: 'China', pop: 1416096094, density: 151},
            {name: 'USA', pop: 347275807, density: 36}
        ];
        window.onload = function() {
            calculatePopulation();
        };
        function calcPop(countryData, year) {
            var baseYear = countryData.baseYear;
            var basePop = countryData.basePop;
            var growth = countryData.growth;
            var peakYear = countryData.peakYear;
            var peakPop = countryData.peakPop;
            var declineRate = countryData.declineRate;
            var t = year - baseYear;
            var pop = year <= peakYear ? basePop * Math.exp(growth * t) : peakPop * Math.exp(declineRate * (year - peakYear));
            return Math.max(0, Math.round(pop));
        }
        function calculatePopulation() {
            var year = parseInt(document.getElementById('year').value) || 2025;
            var country = document.getElementById('country').value || 'world';
            var data = countries[country];
            var pop = calcPop(data, year);
            var foodNeeds = (pop / 1000000000) * 1.1; // +110%
            var waterNeeds = (pop / 1000000000) * 3.7; // Shortages
            var energyNeeds = (pop / 1000000000) * 1.5; // +50%
            document.getElementById('population-result').innerText = 'Estimated Population for ' + year + ' in ' + country.charAt(0).toUpperCase() + country.slice(1) + ': ' + pop.toLocaleString() + '\nGrowth Rate: ' + (data.growth * 100).toFixed(2) + '% (adjusted)\nFuture Needs: Food demand +110% (' + foodNeeds.toFixed(1) + 'B units), Water shortages for ' + waterNeeds.toFixed(1) + 'B people, Energy +50% (' + energyNeeds.toFixed(1) + 'B units)';
            drawHistoricalLineChart();
            drawProjectionLineChart();
            drawPieChart(country, pop, year);
            drawBarChart(data.growth);
            drawNeedsBar(foodNeeds, waterNeeds, energyNeeds);
            drawDensityScatter(country, pop, year);
        }
        function drawHistoricalLineChart() {
            var canvas = document.getElementById('historical-line-chart');
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Grid
            ctx.strokeStyle = '#ccc';
            for (var i = 1; i < 5; i++) {
                ctx.beginPath();
                ctx.moveTo(0, i * (canvas.height / 5));
                ctx.lineTo(canvas.width, i * (canvas.height / 5));
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(i * (canvas.width / 5), 0);
                ctx.lineTo(i * (canvas.width / 5), canvas.height);
                ctx.stroke();
            }
            // Line
            ctx.beginPath();
            var maxPop = Math.max(...historicalData.pop);
            historicalData.years.forEach((y, i) => {
                var x = i * (canvas.width / (historicalData.years.length - 1));
                var yPos = canvas.height - (historicalData.pop[i] / maxPop * canvas.height);
                if (i === 0) ctx.moveTo(x, yPos);
                else ctx.lineTo(x, yPos);
                ctx.fillStyle = '#000';
                if (i % 5 === 0) ctx.fillText(y, x - 20, canvas.height - 10);
                ctx.fillText((historicalData.pop[i] / 1000000000).toFixed(1) + 'B', x - 20, yPos - 10);
            });
            ctx.strokeStyle = '#36A2EB';
            ctx.stroke();
            // Legend
            ctx.fillStyle = '#36A2EB';
            ctx.fillRect(10, 10, 20, 10);
            ctx.fillStyle = '#000';
            ctx.fillText('Historical Population', 40, 20);
        }
        function drawProjectionLineChart() {
            var canvas = document.getElementById('projection-line-chart');
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Grid
            ctx.strokeStyle = '#ccc';
            for (var i = 1; i < 5; i++) {
                ctx.beginPath();
                ctx.moveTo(0, i * (canvas.height / 5));
                ctx.lineTo(canvas.width, i * (canvas.height / 5));
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(i * (canvas.width / 5), 0);
                ctx.lineTo(i * (canvas.width / 5), canvas.height);
                ctx.stroke();
            }
            // Line
            ctx.beginPath();
            var maxPop = Math.max(...projectionData.pop);
            var minPop = Math.min(...projectionData.pop);
            projectionData.years.forEach((y, i) => {
                var x = i * (canvas.width / (projectionData.years.length - 1));
                var yPos = canvas.height - ((projectionData.pop[i] - minPop) / (maxPop - minPop) * (canvas.height - 40)) - 20;
                if (i === 0) ctx.moveTo(x, yPos);
                else ctx.lineTo(x, yPos);
                ctx.fillStyle = '#000';
                ctx.font = '10px Arial';
                if (i % 5 === 0) {
                    ctx.save();
                    ctx.translate(x, canvas.height - 10);
                    ctx.rotate(-Math.PI / 4);
                    ctx.fillText(y, 0, 0);
                    ctx.restore();
                }
                ctx.fillText((projectionData.pop[i] / 1000000000).toFixed(1) + 'B', x - 10, yPos - 5);
                if (y === 2084) {
                    ctx.fillStyle = '#FF0000';
                    ctx.beginPath();
                    ctx.arc(x, yPos, 5, 0, 2 * Math.PI);
                    ctx.fill();
                    ctx.fillStyle = '#000';
                    ctx.fillText('Peak', x + 10, yPos - 10);
                }
            });
            ctx.strokeStyle = '#FF6384';
            ctx.stroke();
            // Legend
            ctx.fillStyle = '#FF6384';
            ctx.fillRect(10, 10, 20, 10);
            ctx.fillStyle = '#000';
            ctx.fillText('Projected Population', 40, 20);
        }
        function drawPieChart(country, pop, year) {
            var canvas = document.getElementById('population-pie-chart');
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            var worldPop = calcPop(countries.world, year);
            var topShares = [18, 17, 4, 3.5, 3.1]; // Top 5 %
            var colors = ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'];
            var labels = ['India', 'China', 'USA', 'Indonesia', 'Pakistan'];
            var startAngle = 0;
            topShares.forEach((share, i) => {
                var angle = (share / 100) * 2 * Math.PI;
                ctx.beginPath();
                ctx.moveTo(100, 100);
                ctx.arc(100, 100, 90, startAngle, startAngle + angle);
                ctx.fillStyle = colors[i];
                ctx.fill();
                ctx.fillStyle = '#000';
                ctx.font = '10px Arial';
                var labelX = 100 + (90 / 2) * Math.cos(startAngle + angle / 2);
                var labelY = 100 + (90 / 2) * Math.sin(startAngle + angle / 2);
                ctx.fillText(share + '%', labelX - 10, labelY);
                startAngle += angle;
            });
            ctx.fillStyle = '#000';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            labels.forEach((label, i) => {
                ctx.fillStyle = colors[i];
                ctx.fillRect(10, 10 + i * 20, 10, 10);
                ctx.fillStyle = '#000';
                ctx.fillText(label, 25, 20 + i * 20);
            });
            ctx.fillText('Top 5 Shares', 10, 120);
            if (country !== 'world') {
                var countryShare = (pop / worldPop) * 100;
                ctx.fillText(country + ': ' + countryShare.toFixed(2) + '%', 10, 140);
            }
        }
        function drawBarChart(growth) {
            var canvas = document.getElementById('growth-bar-chart');
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Grid
            ctx.strokeStyle = '#ccc';
            for (var i = 1; i < 5; i++) {
                ctx.beginPath();
                ctx.moveTo(0, i * (canvas.height / 5));
                ctx.lineTo(canvas.width, i * (canvas.height / 5));
                ctx.stroke();
            }
            var bars = [0.021, 0.012, growth, 0.001, -0.001]; // Past high, past avg, current, future low, decline
            var labels = ['Past High', 'Past Avg', 'Current', 'Future Low', 'Decline'];
            var maxBar = Math.max(...bars.map(Math.abs));
            var zeroY = canvas.height - 20;
            // Zero line
            ctx.strokeStyle = '#000';
            ctx.beginPath();
            ctx.moveTo(0, zeroY);
            ctx.lineTo(canvas.width, zeroY);
            ctx.stroke();
            bars.forEach((val, i) => {
                var barHeight = (Math.abs(val) / maxBar) * (canvas.height - 40);
                var x = i * 80 + 20;
                var width = 60;
                var y;
                ctx.fillStyle = val > 0 ? '#4CAF50' : '#FF6384';
                if (val >= 0) {
                    y = zeroY - barHeight;
                    ctx.fillRect(x, y, width, barHeight);
                } else {
                    y = zeroY;
                    ctx.fillRect(x, y, width, barHeight);
                }
                ctx.fillStyle = '#000';
                ctx.font = '10px Arial';
                var labelY = val >= 0 ? y - 5 : y + barHeight + 15;
                ctx.fillText((val * 100).toFixed(2) + '%', x + 5, labelY);
                ctx.save();
                ctx.translate(x + 10, canvas.height - 5);
                ctx.rotate(-Math.PI / 4);
                ctx.fillText(labels[i], 0, 0);
                ctx.restore();
            });
            ctx.fillText('Growth Rates', 150, 20);
        }
        function drawNeedsBar(foodNeeds, waterNeeds, energyNeeds) {
            var canvas = document.getElementById('needs-bar-chart');
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Grid
            ctx.strokeStyle = '#ccc';
            for (var i = 1; i < 5; i++) {
                ctx.beginPath();
                ctx.moveTo(0, i * (canvas.height / 5));
                ctx.lineTo(canvas.width, i * (canvas.height / 5));
                ctx.stroke();
            }
            var bars = [foodNeeds, waterNeeds, energyNeeds];
            var labels = ['Food (+110%)', 'Water (B ppl)', 'Energy (+50%)'];
            var units = ['B units', 'B people', 'B units'];
            var maxBar = Math.max(...bars);
            var zeroY = canvas.height - 20;
            // Zero line
            ctx.strokeStyle = '#000';
            ctx.beginPath();
            ctx.moveTo(0, zeroY);
            ctx.lineTo(canvas.width, zeroY);
            ctx.stroke();
            bars.forEach((val, i) => {
                var barHeight = (val / maxBar) * (canvas.height - 40);
                var x = i * 100 + 20;
                var width = 60;
                var y = zeroY - barHeight;
                ctx.fillStyle = ['#FFCE56', '#36A2EB', '#FF6384'][i];
                ctx.fillRect(x, y, width, barHeight);
                ctx.fillStyle = '#000';
                ctx.font = '10px Arial';
                ctx.fillText(val.toFixed(1) + ' ' + units[i], x + 5, y - 5);
                ctx.save();
                ctx.translate(x + 10, canvas.height - 5);
                ctx.rotate(-Math.PI / 4);
                ctx.fillText(labels[i], 0, 0);
                ctx.restore();
            });
            ctx.fillText('Future Needs', 150, 20);
        }
        function drawDensityScatter(country, pop, year) {
            var canvas = document.getElementById('density-scatter-chart');
            var ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Grid
            ctx.strokeStyle = '#ccc';
            for (var i = 1; i < 5; i++) {
                ctx.beginPath();
                ctx.moveTo(0, i * (canvas.height / 5));
                ctx.lineTo(canvas.width, i * (canvas.height / 5));
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(i * (canvas.width / 5), 0);
                ctx.lineTo(i * (canvas.width / 5), canvas.height);
                ctx.stroke();
            }
            // Update densityData dynamically for the selected year
            densityData.forEach(d => {
                var key = d.name.toLowerCase().replace(/ /g, '');
                if (countries[key]) {
                    d.pop = calcPop(countries[key], year);
                    d.density = d.pop / countries[key].area;
                }
            });
            var maxPop = Math.max(...densityData.map(d => d.pop));
            var maxDensity = Math.max(...densityData.map(d => d.density));
            densityData.forEach((d, i) => {
                var x = (d.pop / maxPop) * (canvas.width - 40) + 20;
                var y = canvas.height - (d.density / maxDensity * (canvas.height - 40)) - 20;
                ctx.fillStyle = '#4CAF50';
                var size = (d.pop / maxPop) * 10 + 5; // Size by pop
                ctx.beginPath();
                ctx.arc(x, y, size, 0, 2 * Math.PI);
                ctx.fill();
                ctx.fillStyle = '#000';
                ctx.font = '10px Arial';
                ctx.fillText(d.name, x + 10, y + 5);
                if (d.name.toLowerCase() === country.replace(/ /g, '')) {
                    ctx.strokeStyle = '#FF0000';
                    ctx.beginPath();
                    ctx.arc(x, y, size + 2, 0, 2 * Math.PI);
                    ctx.stroke();
                }
            });
            ctx.fillText('Pop (B) ->', canvas.width - 50, canvas.height - 10);
            ctx.fillText('Density (p/km²) ^', 10, 20);
        }
        function sharePage() {
            if (navigator.share) {
                navigator.share({
                    title: 'World Population Calculator - FCalculator.com',
                    url: window.location.href
                });
            } else {
                alert('Share this page: ' + window.location.href);
            }
        }
    </script>
</body>
</html>
